<%- include('header') -%>

<%- include('navbar') -%>

<!--
    TODO: CRUD az edzÃ©seken
-->

<% workouts.data.forEach(workout => { %>
    <div class="container containerstyle" style="justify-content: space-evenly">
        <div class="row" style="justify-content: center">
            <form style="width: 100%; justify-content: center">
                <div class="form-group row">
                    <label for="inputName" class="col-4 col-form-label">Name</label>
                    <div class="col-6">
                        <input type="text" class="form-control" id="inputName" placeholder="Name"
                               value=
                               <% if (workout.name !== undefined){ %>
                                   '<%= workout.name %>'
                                <% } %>
                        >
                    </div>

                    <div class="col-2 removebtn">
                        <a class="btn btn-danger" id="deleteButton" href=<%= '/remove/' + workout._id %>>
                            <i class="fa-solid fa-trash"></i>
                        </a>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="inputStartTime" class="col-4 col-form-label">
                        Start Time
                    </label>
                    <div class="col-6">
                        <input type="datetime-local" class="form-control" id="inputStartTime" placeholder="Start Time"
                               value=
                               <% if(workout.start_time !== undefined){ %>
                                   '<%= workout.start_time %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="inputEndTime" class="col-4 col-form-label">
                        Finish Time
                    </label>
                    <div class="col-6">
                        <input type="datetime-local" class="form-control" id="inputEndTime" placeholder="Finish Time"
                               value=
                               <% if (workout.finish_time !== undefined){ %>
                                   '<%= workout.finish_time %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="inputWeight" class="col-4 col-form-label">
                        Weight
                    </label>
                    <div class="col-6">
                        <input type="number" step="0.1" class="form-control" id="inputWeight" placeholder="Weight"
                               value=
                               <% if (workout.weight !== undefined){ %>
                                   '<%= workout.weight %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="inputNotes" class="col-4 col-form-label">
                        Notes
                    </label>
                    <div class="col-6">
                        <input type="text" class="form-control" id="inputNotes" placeholder="Notes"
                               value=
                               <% if (workout.notes !== undefined){ %>
                                   '<%= workout.notes %>'
                                <% } %>
                        >
                    </div>
                </div>

                <% workout.exercises.forEach(exercise => { %>
                    <div class="row exercisecontainerforindex col-10 justify-content-center">

                        <label for="bpset" class="col-12 col-form-label" style="font-weight: bolder; font-size: larger">
                            <% if (exercise.name !== undefined){ %>
                                <%= exercise.name %>
                            <% } %>
                        </label>
                        <% exercise.sets.forEach(set => { %>
                            <label for="bprep" class="col-4">
                                Set <%= exercise.sets.indexOf(set) + 1 %>
                            </label>
                            <div class="col-4">
                                <input type="number" class="form-control" id="bpset" placeholder="Weight"
                                       value=
                                       <% if (set.weight !== undefined){ %>
                                           '<%= set.weight %>'
                                        <% } %>
                                >
                            </div>
                            <div class="col-4">
                                <input type="number" class="form-control" id="bprep" placeholder="Number of Reps"
                                       value=
                                       <% if (set.reps !== undefined){ %>
                                           '<%= set.reps %>'
                                        <% } %>
                                >
                            </div>
                        <% }); %>

                        <button class="btn-secondary col-md-4" style="">
                            Add New Set
                        </button>
                    </div>
                <% }); %>

                <div class="justify-content-center">
                    <button type="submit" class="btn-secondary col-4" id="newExerciseButton">
                        Add New Exercise
                    </button>

                    <button class="btn-secondary col-1" style="visibility: hidden"></button>

                    <button type="submit" class="btn btn-primary col-4" id="saveButton1">
                        Save
                    </button>
                </div>
            </form>
        </div>
    </div>
<% }); %>


<%- include('footer') -%>
