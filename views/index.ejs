<%- include('header') -%>

<%- include('navbar') -%>

<!--
    TODO: CRUD az edzÃ©seken
-->

<% workouts.forEach(workout => { %>
    <div class="container containerstyle" style="justify-content: space-evenly">
        <div class="row" style="justify-content: center">
            <form method="post" style="width: 100%; justify-content: center">
                <input type="hidden" name="_id" value=<%= workout._id %> >
                <div class="form-group row">
                    <label for="name" class="col-4 col-form-label">Name</label>
                    <div class="col-6">
                        <input type="text" class="form-control" id="name" name="name" placeholder="Name"
                               value=
                               <% if (workout.name !== undefined){ %>
                                   '<%= workout.name %>'
                                <% } %>
                        >
                    </div>

                    <div class="col-2 removebtn">
                        <a class="btn btn-danger" id="deleteButton" href=<%= '/remove/' + workout._id %>>
                            <i class="fa-solid fa-trash"></i>
                        </a>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="start_time" class="col-4 col-form-label">
                        Start Time
                    </label>
                    <div class="col-6">
                        <input type="datetime-local" class="form-control" id="start_time" name="start_time" placeholder="Start Time"
                               value=
                               <% if(workout.start_time !== undefined){ %>
                                   '<%= workout.start_time %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="finish_time" class="col-4 col-form-label">
                        Finish Time
                    </label>
                    <div class="col-6">
                        <input type="datetime-local" class="form-control" id="finish_time" name="finish_time" placeholder="Finish Time"
                               value=
                               <% if (workout.finish_time !== undefined){ %>
                                   '<%= workout.finish_time %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="weight" class="col-4 col-form-label">
                        Weight
                    </label>
                    <div class="col-6">
                        <input type="number" step="0.1" class="form-control" id="weight" name="weight" placeholder="Weight"
                               value=
                               <% if (workout.weight !== undefined){ %>
                                   '<%= workout.weight %>'
                                <% } %>
                        >
                    </div>
                </div>

                <div class="form-group row">
                    <label for="notes" class="col-4 col-form-label">
                        Notes
                    </label>
                    <div class="col-6">
                        <input type="text" class="form-control" name="notes" id="notes" placeholder="Notes"
                               value=
                               <% if (workout.notes !== undefined){ %>
                                   '<%= workout.notes %>'
                                <% } %>
                        >
                    </div>
                </div>

                <% workout.exercises.forEach(exercise => { %>
                    <div class="row exercisecontainerforindex col-10 justify-content-center">

                        <label class="col-12 col-form-label" style="font-weight: bolder; font-size: larger">
                            <% if (exercise !== undefined){ %>
                                <%= exercise.name + ' (' + exercise.type + ')' %>
                            <% } %>
                        </label>
                    </div>
                <% }); %>

                <div class="justify-content-center">
                    <input type="submit" class="btn-secondary col-4" id="newExerciseButton" value="Add New Exercise"/>

                    <button class="btn-secondary col-1" style="visibility: hidden"></button>

                    <input type="submit" class="btn btn-primary col-4" id="saveButton1" formaction=<%= "/update/" + workout._id %> >
                </div>
            </form>
        </div>
    </div>
<% }); %>


<%- include('footer') -%>
